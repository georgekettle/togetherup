<% back_link = params[:style].nil? ? goals_path : new_goal_path %>
<%= render 'components/page_navbar', title: 'Create a goal', back_link: back_link %>
<%= render 'goals/new_goal_progress' %>

<div class="pb-10 max-w-md mx-auto">
  <% if params[:style].nil? %>
    <%= render 'components/header' do %>
        <h1 class="font-bold text-4xl mb-4 uppercase">Type of goal</h1>
    <% end %>
    <div class="grid gap-2">
        <%= link_to new_goal_path(style: 'frequency'), class: "w-full rounded-lg border-2 border-black flex items-end bg-center bg-no-repeat bg-cover bg-red-200 h-32 bg-white aspect-w-2 aspect-h-1 hover:-translate-x-0.5 hover:-translate-y-0.5 duration-200 ease-out transition-all hover:shadow-xl" do %>
          <div class="flex items-end justify-between w-full p-4">
            <div class="pr-4">
              <h4 class="font-bold text-xl leading-tight mb-1">Frequency Based</h4>
              <p class="text-gray-500 leading-none">Best for tracking streaks and holding you accountable to your goal</p>
            </div>
            <div class="h-10 w-10 rounded-full bg-pink text-black flex items-center justify-center flex-shrink-0 border-2 border-black ml-1 transform transition-transform duration-300 ease-in-out hover:scale-110 cursor-pointer">
              <%= render "icons/arrow_right" %>
            </div>
          </div>
        <% end %>
        <%= link_to new_goal_path(style: 'metric'), class: "w-full rounded-lg border-2 border-black flex items-end bg-center bg-no-repeat bg-cover bg-red-200 h-32 bg-white aspect-w-2 aspect-h-1 hover:-translate-x-0.5 hover:-translate-y-0.5 duration-200 ease-out transition-all hover:shadow-xl" do %>
          <div class="flex items-end justify-between w-full p-4">
            <div class="pr-4">
              <h4 class="font-bold text-xl leading-tight mb-1">Metric Based</h4>
              <p class="text-gray-500 leading-none">Best for tracking quantities and amounts like savings or weight loss</p>
            </div>
            <div class="h-10 w-10 rounded-full bg-pink text-black flex items-center justify-center flex-shrink-0 border-2 border-black ml-1 transform transition-transform duration-300 ease-in-out hover:scale-110 cursor-pointer">
              <%= render "icons/arrow_right" %>
            </div>
          </div>
        <% end %>
    </div>
  <% else %>
    <%= render 'components/header' do %>
      <h1 class="font-bold text-4xl mb-4 uppercase">Define your goal?</h1>
    <% end %>
    <% if params[:style] == 'frequency' %>
      <%= render 'frequency_form', goal: @goal %>
    <% elsif params[:style] == 'metric' %>
      <%= render 'metric_form', goal: @goal %>
    <% end %>
  <% end %>
</div>
